#!/bin/bash

source $swarmConfigs/shimmer-inx-dashboard.cfg

source $shimmerInxDashboardModules/shimmerInxDashboardConfigs

# Run Config checks
source $shimmerInxDashboardModules/shimmerInxDashboardConfigCheck

if [ -z "$shimmerInxDashboardVersion" ]; then
    source $shimmerInxDashboardModules/shimmerInxDashboardVersion
fi

#############################################################################################

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardAddress

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardAlias

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardAuthIdentityFilePath

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardAuthIdentityPrivateKey

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardAuthPasswordHash

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardAuthPasswordSalt

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardAuthUsername

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardDisablePlugins

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardEnablePlugins

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardInxAddress

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardUpdateCheck

source $shimmerInxDashboardConfigParsers/shimmerInxDashboardProfiling

# Set file permissions
sudo chown inx:inx $shimmerInxDashboardHome/*.json > /dev/null 2>&1

# Unset all var
unset parser
