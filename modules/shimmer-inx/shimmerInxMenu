#!/bin/bash

# INX MENU
while [ $exitCode -lt 1 ]; do
    clear
    CHOICE=$(
        whiptail --title "INX [SHIMMER] Menu" --menu "\nChoose an option" 24 65 0 \
        "1)" "INX-Plugins" \
        "" "" \
        "2)" "INX-Dashboard" \
        "3)" "INX-Indexer" \
        "4)" "INX-MQTT" \
        "5)" "INX-Participation" \
        "6)" "INX-POI" 3>&2 2>&1 1>&3
    )
    exitstatus=$?
    if [ "$exitstatus" = "1" ]; then
        exitCode=1
    fi

    case $CHOICE in
        "1)")
            source $shimmerInxModules/shimmerInxPlugins
        ;;
        "2)")
            source $shimmerInxDashboardModules/shimmerInxDashboardMenu
        ;;
        "3)")
            source $shimmerInxIndexerModules/shimmerInxIndexerMenu
        ;;
        "4)")
            source $shimmerInxMqttModules/shimmerInxMqttMenu
        ;;
        "5)")
            source $shimmerInxParticipationModules/shimmerInxParticipationMenu
        ;;
        "6)")
            source $shimmerInxPoiModules/shimmerInxPoiMenu
        ;;
    esac
done
exitCode=0
