#!/bin/bash

source $shimmerInxMqttModules/inxMqttConfigs

# Run Config checks
source $shimmerInxMqttModules/inxMqttConfigCheck

if [ -z "$shimmerInxMqttVersion" ]; then
    source $shimmerInxMqttModules/inxMqttVersion
fi

#############################################################################################

source $shimmerInxMqttConfigParsers/inxMqttDisablePlugins

source $shimmerInxMqttConfigParsers/inxMqttEnablePlugins

source $shimmerInxMqttConfigParsers/inxMqttInxAddress

source $shimmerInxMqttConfigParsers/inxMqttTcpAddress

source $shimmerInxMqttConfigParsers/inxMqttTcpEnabled

source $shimmerInxMqttConfigParsers/inxMqttUpdateCheck

source $shimmerInxMqttConfigParsers/inxMqttWebsocketAddress

source $shimmerInxMqttConfigParsers/inxMqttWebsocketEnabled

source $shimmerInxMqttConfigParsers/inxMqttProfiling

# Set file permissions
sudo chown inx:inx $shimmerInxMqttHome/*.json > /dev/null 2>&1

# Unset all var
unset parser
