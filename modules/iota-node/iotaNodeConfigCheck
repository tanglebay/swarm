#!/bin/bash
if [ -f "$iotaNodePath/config.json" ]; then
    checkConfigFile=$(cat $iotaNodePath/config.json)
fi

if [ -z "$checkConfigFile" ] || [ ! -f "$iotaNodePath/config.json" ]; then
    if [ -f "$iotaNodePath/config.json" ]; then
        chown 65532:65532 $iotaNodePath/config.json > /dev/null 2>&1
    fi
    wget -q -O $iotaNodePath/config.json https://raw.githubusercontent.com/iotaledger/node-docker-setup/main/iota/config.json
fi

if [ -f "/tmp/iotaHornetParsing" ]; then
    rm -rf /tmp/iotaHornetParsing > /dev/null 2>&1
fi
unset checkConfigFile

##################################################################################################################################################################

if [ -f "$iotaNodePath/peering.json" ]; then
    checkConfigFile=$(cat $iotaNodePath/peering.json)
fi
if [ -z "$checkConfigFile" ] || [ ! -f "$iotaNodePath/peering.json" ]; then
    if [ -f "$iotaNodePath/peering.json" ]; then
        chown 65532:65532 $iotaNodePath/peering.json > /dev/null 2>&1
    fi
    wget -q -O $iotaNodePath/peering.json https://raw.githubusercontent.com/iotaledger/node-docker-setup/main/iota/peering.json
fi
unset checkConfigFile