#!/bin/bash

source $shimmerInxMqttModules/shimmerInxMqttConfigs

# Run Config checks
source $shimmerInxMqttModules/shimmerInxMqttConfigCheck

if [ -z "$shimmerInxMqttVersion" ]; then
    source $shimmerInxMqttModules/shimmerInxMqttVersion
fi

#############################################################################################

source $shimmerInxMqttConfigParsers/shimmerInxMqttDisablePlugins

source $shimmerInxMqttConfigParsers/shimmerInxMqttEnablePlugins

source $shimmerInxMqttConfigParsers/shimmerInxMqttInxAddress

source $shimmerInxMqttConfigParsers/shimmerInxMqttTcpAddress

source $shimmerInxMqttConfigParsers/shimmerInxMqttTcpEnabled

source $shimmerInxMqttConfigParsers/shimmerInxMqttUpdateCheck

source $shimmerInxMqttConfigParsers/shimmerInxMqttWebsocketAddress

source $shimmerInxMqttConfigParsers/shimmerInxMqttWebsocketEnabled

source $shimmerInxMqttConfigParsers/shimmerInxMqttProfiling

# Set file permissions
sudo chown inx:inx $shimmerInxMqttHome/*.json > /dev/null 2>&1

# Unset all var
unset parser
