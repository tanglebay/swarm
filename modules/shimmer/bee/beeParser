#!/bin/bash

source $swarmConfigs/shimmer-bee.cfg

# Set config
source $shimmerBeeModules/beeConfig

# Run Config checks
source $shimmerBeeModules/beeConfigCheck

#############################################################################################

source $shimmerBeeConfigParsers/beeAlias

source $shimmerBeeConfigParsers/beeGossipPort

source $shimmerBeeConfigParsers/beeIdentity

source $shimmerBeeConfigParsers/beeMaxUnknownPeers

source $shimmerBeeConfigParsers/beePasswordHash

source $shimmerBeeConfigParsers/beePasswordSalt

source $shimmerBeeConfigParsers/beePowEnabled

source $shimmerBeeConfigParsers/beePruning

source $shimmerBeeConfigParsers/beeSnapshotInterval

source $shimmerBeeConfigParsers/beeUsername

source $shimmerBeeConfigParsers/beeDashboardPort

source $shimmerBeeConfigParsers/beeRestApiPort

source $shimmerBeeConfigParsers/beeAutopeering

source $shimmerBeeConfigParsers/beeRunAsEntryNode

source $shimmerBeeConfigParsers/beeMaxDiscoveredPeers

source $shimmerBeeConfigParsers/beeApiPublicRoutes

source $shimmerBeeConfigParsers/beeEntryNode

source $shimmerBeeConfigParsers/beeSnapshotUrls

if [ "$shimmerBeeIgnorePeersUpdate" != "true" ]; then
    source $shimmerBeeConfigParsers/beeNetworkPeers
fi

# Set file permissions
sudo chown -R bee:bee $shimmerBeeHome/*.json > /dev/null 2>&1

# Unset all var
unset parser
