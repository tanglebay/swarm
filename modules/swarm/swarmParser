#!/bin/bash
if [ ! -d "/tmp/swarm" ]; then
    tmpdir="/tmp/swarm"
    sudo mkdir -p $tmpdir
fi

###########################################################################################################################

if [ -f "$swarmTmp/iota-hornet.cfg" ] || [ -f "$swarmTmp/hornet.cfg" ]; then
    if [ -f "$swarmTmp/iota-hornet.cfg" ]; then
        source $swarmTmp/iota-hornet.cfg
    fi
    source $swarmModules/swarmHornetMigration

    # Upater for Hornet.cfg
    if [ -z "$iotaHornetRelease" ]; then
        sudo sed -i 's/^iotaHornetRelease=.*/iotaHornetRelease="stable"/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetRelease=.*/iotaHornetRelease="'$iotaHornetRelease'"/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetNetwork" ]; then
        sudo sed -i 's/^iotaHornetNetwork=.*/iotaHornetNetwork="mainnet"/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetNetwork=.*/iotaHornetNetwork="'$iotaHornetNetwork'"/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetAlias" ]; then
        sudo sed -i 's/^iotaHornetAlias=.*/iotaHornetAlias="Hornet"/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i "s~^iotaHornetAlias=.*~iotaHornetAlias=\"$iotaHornetAlias\"~g" $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetDisablePlugins" ]; then
        sudo sed -i 's/^iotaHornetDisablePlugins=.*/iotaHornetDisablePlugins=""/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetDisablePlugins=.*/iotaHornetDisablePlugins="'$iotaHornetDisablePlugins'"/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetEnablePlugins" ]; then
        sudo sed -i 's/^iotaHornetEnablePlugins=.*/iotaHornetEnablePlugins=""/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetEnablePlugins=.*/iotaHornetEnablePlugins="'$iotaHornetEnablePlugins'"/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetUnknownPeersLimit" ]; then
        sudo sed -i 's/^iotaHornetUnknownPeersLimit=.*/iotaHornetUnknownPeersLimit=2/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetUnknownPeersLimit=.*/iotaHornetUnknownPeersLimit='$iotaHornetUnknownPeersLimit'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetSnapshotInterval" ]; then
        sudo sed -i 's/^iotaHornetSnapshotInterval=.*/iotaHornetSnapshotInterval=360/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetSnapshotInterval=.*/iotaHornetSnapshotInterval='$iotaHornetSnapshotInterval'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetGossipPort" ]; then
        sudo sed -i 's/^iotaHornetGossipPort=.*/iotaHornetGossipPort=15600/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetGossipPort=.*/iotaHornetGossipPort='$iotaHornetGossipPort'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetAutopeeringPort" ]; then
        sudo sed -i 's/^iotaHornetAutopeeringPort=.*/iotaHornetAutopeeringPort=14626/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetAutopeeringPort=.*/iotaHornetAutopeeringPort='$iotaHornetAutopeeringPort'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetPowEnabled" ]; then
        sudo sed -i 's/^iotaHornetPowEnabled=.*/iotaHornetPowEnabled=false/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetPowEnabled=.*/iotaHornetPowEnabled='$iotaHornetPowEnabled'/' $swarmConfigs/iota-hornet.cfg
    fi
    ###
    if [ -z "$iotaHornetPowWorkerCount" ]; then
        sudo sed -i 's/^iotaHornetPowWorkerCount=.*/iotaHornetPowWorkerCount=1/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetPowWorkerCount=.*/iotaHornetPowWorkerCount='$iotaHornetPowWorkerCount'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetAutoRevalidation" ]; then
        sudo sed -i 's/^iotaHornetAutoRevalidation=.*/iotaHornetAutoRevalidation=false/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetAutoRevalidation=.*/iotaHornetAutoRevalidation='$iotaHornetAutoRevalidation'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetPruningEnabled" ]; then
        sudo sed -i 's/^iotaHornetPruningEnabled=.*/iotaHornetPruningEnabled=true/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetPruningEnabled=.*/iotaHornetPruningEnabled='$iotaHornetPruningEnabled'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetPruningDatabaseSize" ]; then
        sudo sed -i 's/^iotaHornetPruningDatabaseSize=.*/iotaHornetPruningDatabaseSize=/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetPruningDatabaseSize=.*/iotaHornetPruningDatabaseSize='$iotaHornetPruningDatabaseSize'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetPruningPercentage" ]; then
        sudo sed -i 's/^iotaHornetPruningPercentage=.*/iotaHornetPruningPercentage=5/' $swarmConfigs/iota-hornet.cfg
    else
        iotaHornetPruningPercentage=$(echo $iotaHornetPruningPercentage | tr -d '%')
        sudo sed -i 's/^iotaHornetPruningPercentage=.*/iotaHornetPruningPercentage='$iotaHornetPruningPercentage'/' $swarmConfigs/iota-hornet.cfg      
    fi
    ####
    if [ -z "$iotaHornetPruningCooldownTime" ]; then
        sudo sed -i 's/^iotaHornetPruningCooldownTime=.*/iotaHornetPruningCooldownTime=5/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetPruningCooldownTime=.*/iotaHornetPruningCooldownTime='$iotaHornetPruningCooldownTime'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetUsername" ]; then
        sudo sed -i 's/^iotaHornetUsername=.*/iotaHornetUsername=""/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetUsername=.*/iotaHornetUsername="'$iotaHornetUsername'"/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetPasswordHash" ]; then
        sudo sed -i 's/^iotaHornetPasswordHash=.*/iotaHornetPasswordHash="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetPasswordHash=.*/iotaHornetPasswordHash="'$iotaHornetPasswordHash'"/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetPasswordSalt" ]; then
        sudo sed -i 's/^iotaHornetPasswordSalt=.*/iotaHornetPasswordSalt="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetPasswordSalt=.*/iotaHornetPasswordSalt="'$iotaHornetPasswordSalt'"/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetIdentity" ]; then
        sudo sed -i 's~^iotaHornetIdentity=.*~iotaHornetIdentity=""~' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's~^iotaHornetIdentity=.*~iotaHornetIdentity="'$iotaHornetIdentity'"~' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetRunAsEntryNode" ]; then
        sudo sed -i 's/^iotaHornetRunAsEntryNode=.*/iotaHornetRunAsEntryNode=false/' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's/^iotaHornetRunAsEntryNode=.*/iotaHornetRunAsEntryNode='$iotaHornetRunAsEntryNode'/' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetApiJwtSalt" ]; then
        sudo sed -i 's~^iotaHornetApiJwtSalt=.*~iotaHornetApiJwtSalt="HORNET"~' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's~^iotaHornetApiJwtSalt=.*~iotaHornetApiJwtSalt="'$iotaHornetApiJwtSalt'"~' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetApiJwtToken" ]; then
        sudo sed -i 's~^iotaHornetApiJwtToken=.*~iotaHornetApiJwtToken=""~' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's~^iotaHornetApiJwtToken=.*~iotaHornetApiJwtToken="'$iotaHornetApiJwtToken'"~' $swarmConfigs/iota-hornet.cfg
    fi
    ####
    if [ -z "$iotaHornetApiPublicRoutes" ]; then
        sudo sed -i 's~^iotaHornetApiPublicRoutes=.*~iotaHornetApiPublicRoutes="/health,/mqtt,/api/v1/info,/api/v1/tips,/api/v1/messages*,/api/v1/transactions*,/api/v1/milestones*,/api/v1/outputs*,/api/v1/addresses*,/api/v1/treasury,/api/v1/receipts*,/api/plugins/participation/events*,/api/plugins/participation/outputs*,/api/plugins/participation/addresses*"~' $swarmConfigs/iota-hornet.cfg
    else
        sudo sed -i 's~^iotaHornetApiPublicRoutes=.*~iotaHornetApiPublicRoutes="'$iotaHornetApiPublicRoutes'"~' $swarmConfigs/iota-hornet.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/shimmer-hornet.cfg" ]; then
    source $swarmTmp/shimmer-hornet.cfg

    ####
    if [ -z "$shimmerHornetRelease" ]; then
        sudo sed -i 's/^shimmerHornetRelease=.*/shimmerHornetRelease="alpha"/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetRelease=.*/shimmerHornetRelease="'$shimmerHornetRelease'"/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetNetwork" ]; then
        sudo sed -i 's/^shimmerHornetNetwork=.*/shimmerHornetNetwork="alphanet"/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetNetwork=.*/shimmerHornetNetwork="'$shimmerHornetNetwork'"/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetAlias" ]; then
        sudo sed -i 's/^shimmerHornetAlias=.*/shimmerHornetAlias="Hornet-Shimmer"/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i "s~^shimmerHornetAlias=.*~shimmerHornetAlias=\"$shimmerHornetAlias\"~g" $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetDisablePlugins" ]; then
        sudo sed -i 's/^shimmerHornetDisablePlugins=.*/shimmerHornetDisablePlugins=""/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetDisablePlugins=.*/shimmerHornetDisablePlugins="'$shimmerHornetDisablePlugins'"/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetEnablePlugins" ]; then
        sudo sed -i 's/^shimmerHornetEnablePlugins=.*/shimmerHornetEnablePlugins=""/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetEnablePlugins=.*/shimmerHornetEnablePlugins="'$shimmerHornetEnablePlugins'"/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetUnknownPeersLimit" ]; then
        sudo sed -i 's/^shimmerHornetUnknownPeersLimit=.*/shimmerHornetUnknownPeersLimit=2/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetUnknownPeersLimit=.*/shimmerHornetUnknownPeersLimit='$shimmerHornetUnknownPeersLimit'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetSnapshotInterval" ]; then
        sudo sed -i 's/^shimmerHornetSnapshotInterval=.*/shimmerHornetSnapshotInterval=360/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetSnapshotInterval=.*/shimmerHornetSnapshotInterval='$shimmerHornetSnapshotInterval'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetGossipPort" ]; then
        sudo sed -i 's/^shimmerHornetGossipPort=.*/shimmerHornetGossipPort=15600/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetGossipPort=.*/shimmerHornetGossipPort='$shimmerHornetGossipPort'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetAutopeeringPort" ]; then
        sudo sed -i 's/^shimmerHornetAutopeeringPort=.*/shimmerHornetAutopeeringPort=14626/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetAutopeeringPort=.*/shimmerHornetAutopeeringPort='$shimmerHornetAutopeeringPort'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetPowEnabled" ]; then
        sudo sed -i 's/^shimmerHornetPowEnabled=.*/shimmerHornetPowEnabled=false/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetPowEnabled=.*/shimmerHornetPowEnabled='$shimmerHornetPowEnabled'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ###
    if [ -z "$shimmerHornetPowWorkerCount" ]; then
        sudo sed -i 's/^shimmerHornetPowWorkerCount=.*/shimmerHornetPowWorkerCount=1/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetPowWorkerCount=.*/shimmerHornetPowWorkerCount='$shimmerHornetPowWorkerCount'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetAutoRevalidation" ]; then
        sudo sed -i 's/^shimmerHornetAutoRevalidation=.*/shimmerHornetAutoRevalidation=false/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetAutoRevalidation=.*/shimmerHornetAutoRevalidation='$shimmerHornetAutoRevalidation'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetPruningEnabled" ]; then
        sudo sed -i 's/^shimmerHornetPruningEnabled=.*/shimmerHornetPruningEnabled=true/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetPruningEnabled=.*/shimmerHornetPruningEnabled='$shimmerHornetPruningEnabled'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetPruningDatabaseSize" ]; then
        sudo sed -i 's/^shimmerHornetPruningDatabaseSize=.*/shimmerHornetPruningDatabaseSize=/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetPruningDatabaseSize=.*/shimmerHornetPruningDatabaseSize='$shimmerHornetPruningDatabaseSize'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetPruningPercentage" ]; then
        sudo sed -i 's/^shimmerHornetPruningPercentage=.*/shimmerHornetPruningPercentage=5/' $swarmConfigs/shimmer-hornet.cfg
    else
        shimmerHornetPruningPercentage=$(echo $shimmerHornetPruningPercentage | tr -d '%')
        sudo sed -i 's/^shimmerHornetPruningPercentage=.*/shimmerHornetPruningPercentage='$shimmerHornetPruningPercentage'/' $swarmConfigs/shimmer-hornet.cfg   
    fi
    ####
    if [ -z "$shimmerHornetPruningCooldownTime" ]; then
        sudo sed -i 's/^shimmerHornetPruningCooldownTime=.*/shimmerHornetPruningCooldownTime=5/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetPruningCooldownTime=.*/shimmerHornetPruningCooldownTime='$shimmerHornetPruningCooldownTime'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetUsername" ]; then
        sudo sed -i 's/^shimmerHornetUsername=.*/shimmerHornetUsername=""/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetUsername=.*/shimmerHornetUsername="'$shimmerHornetUsername'"/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetPasswordHash" ]; then
        sudo sed -i 's/^shimmerHornetPasswordHash=.*/shimmerHornetPasswordHash="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetPasswordHash=.*/shimmerHornetPasswordHash="'$shimmerHornetPasswordHash'"/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetPasswordSalt" ]; then
        sudo sed -i 's/^shimmerHornetPasswordSalt=.*/shimmerHornetPasswordSalt="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetPasswordSalt=.*/shimmerHornetPasswordSalt="'$shimmerHornetPasswordSalt'"/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetIdentity" ]; then
        sudo sed -i 's~^shimmerHornetIdentity=.*~shimmerHornetIdentity=""~' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's~^shimmerHornetIdentity=.*~shimmerHornetIdentity="'$shimmerHornetIdentity'"~' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetRunAsEntryNode" ]; then
        sudo sed -i 's/^shimmerHornetRunAsEntryNode=.*/shimmerHornetRunAsEntryNode=false/' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's/^shimmerHornetRunAsEntryNode=.*/shimmerHornetRunAsEntryNode='$shimmerHornetRunAsEntryNode'/' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetApiJwtSalt" ]; then
        sudo sed -i 's~^shimmerHornetApiJwtSalt=.*~shimmerHornetApiJwtSalt="HORNET"~' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's~^shimmerHornetApiJwtSalt=.*~shimmerHornetApiJwtSalt="'$shimmerHornetApiJwtSalt'"~' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetApiJwtToken" ]; then
        sudo sed -i 's~^shimmerHornetApiJwtToken=.*~shimmerHornetApiJwtToken=""~' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's~^shimmerHornetApiJwtToken=.*~shimmerHornetApiJwtToken="'$shimmerHornetApiJwtToken'"~' $swarmConfigs/shimmer-hornet.cfg
    fi
    ####
    if [ -z "$shimmerHornetApiPublicRoutes" ]; then
        sudo sed -i 's~^shimmerHornetApiPublicRoutes=.*~shimmerHornetApiPublicRoutes="/health,/api/v2/info,/api/v2/tips,/api/v2/blocks*,/api/v2/transactions*,/api/v2/milestones*,/api/v2/outputs*,/api/v2/treasury,/api/v2/receipts*,/api/plugins/debug/v1/*,/api/plugins/indexer/v1/*,/api/plugins/mqtt/v1,/api/plugins/participation/v1/events*,/api/plugins/participation/v1/outputs*,/api/plugins/participation/v1/addresses*"~' $swarmConfigs/shimmer-hornet.cfg
    else
        sudo sed -i 's~^shimmerHornetApiPublicRoutes=.*~shimmerHornetApiPublicRoutes="'$shimmerHornetApiPublicRoutes'"~' $swarmConfigs/shimmer-hornet.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/bee.cfg" ]; then
    source $swarmTmp/bee.cfg

    if [ -z "$beeRelease" ]; then
        sudo sed -i 's/^beeRelease=.*/beeRelease="stable"/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^beeRelease=.*/beeRelease="'$beeRelease'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$beeNetwork" ]; then
        sudo sed -i 's/^beeNetwork=.*/beeNetwork="mainnet"/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeNetwork=.*/beeNetwork="'$beeNetwork'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeAlias" ]; then
        sudo sed -i 's~^beeAlias=.*~beeAlias="Bee"~' $swarmConfigs/bee.cfg
    else
        sudo sed -i "s~^beeAlias=.*~beeAlias=\"$beeAlias\"~g" $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeGossipPort" ]; then
        sudo sed -i 's/^beeGossipPort=.*/beeGossipPort=15601/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeGossipPort=.*/beeGossipPort='$beeGossipPort'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeIdentity" ]; then
        sudo sed -i 's~beeIdentity=.*~beeIdentity=""~' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beeIdentity=.*~beeIdentity="'$beeIdentity'"~' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeMaxUnknownPeers" ]; then
        sudo sed -i 's/^beeMaxUnknownPeers=.*/beeMaxUnknownPeers=0/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeMaxUnknownPeers=.*/beeMaxUnknownPeers='$beeMaxUnknownPeers'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePasswordHash" ]; then
        sudo sed -i 's/^beePasswordHash=.*/beePasswordHash="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePasswordHash=.*/beePasswordHash="'$beePasswordHash'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePasswordSalt" ]; then
        sudo sed -i 's/^beePasswordSalt=.*/beePasswordSalt="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePasswordSalt=.*/beePasswordSalt="'$beePasswordSalt'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePowEnabled" ]; then
        sudo sed -i 's/^beePowEnabled=.*/beePowEnabled=false/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePowEnabled=.*/beePowEnabled='$beePowEnabled'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePruningDelay" ]; then
        sudo sed -i 's/^beePruningDelay=.*/beePruningDelay=60480/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePruningDelay=.*/beePruningDelay='$beePruningDelay'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePruningEnabled" ]; then
        sudo sed -i 's/^beePruningEnabled=.*/beePruningEnabled=true/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePruningEnabled=.*/beePruningEnabled='$beePruningEnabled'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeSnapshotInterval" ]; then
        sudo sed -i 's/^beeSnapshotInterval=.*/beeSnapshotInterval=360/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeSnapshotInterval=.*/beeSnapshotInterval='$beeSnapshotInterval'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeUsername" ]; then
        sudo sed -i 's/^beeUsername=.*/beeUsername="admin"/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeUsername=.*/beeUsername="'$beeUsername'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeAutopeeringEnabled" ]; then
        sudo sed -i 's/^beeAutopeeringEnabled=.*/beeAutopeeringEnabled=false/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeAutopeeringEnabled=.*/beeAutopeeringEnabled='$beeAutopeeringEnabled'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeAutopeeringPort" ]; then
        sudo sed -i 's/^beeAutopeeringPort=.*/beeAutopeeringPort=14636/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeAutopeeringPort=.*/beeAutopeeringPort='$beeAutopeeringPort'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeRunAsEntryNode" ]; then
        sudo sed -i 's/^beeRunAsEntryNode=.*/beeRunAsEntryNode=false/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeRunAsEntryNode=.*/beeRunAsEntryNode='$beeRunAsEntryNode'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeMaxDiscoveredPeers" ]; then
        sudo sed -i 's/^beeMaxDiscoveredPeers=.*/beeMaxDiscoveredPeers=6/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beeMaxDiscoveredPeers=.*/beeMaxDiscoveredPeers='$beeMaxDiscoveredPeers'/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beeApiPublicRoutes" ]; then
        sudo sed -i 's~^beeApiPublicRoutes=.*~beeApiPublicRoutes="/health,/api/v1/info,/api/v1/tips,/api/v1/messages,/api/v1/messages/:messageId,/api/v1/messages/:messageId/metadata,/api/v1/messages/:messageId/raw,/api/v1/messages/:messageId/children,/api/v1/outputs/:outputId,/api/v1/addresses/:address,/api/v1/addresses/ed25519/:address,/api/v1/addresses/:address/outputs,/api/v1/addresses/d25519/:address/outputs,/api/v1/receipts,/api/v1/receipts/:milestoneIndex,/api/v1/treasury,/api/v1/transactions/:transactionId/included-message,/api/v1/milestones/:milestoneIndex,/api/v1/milestones/:milestoneIndex/utxo-changes"~g' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beeApiPublicRoutes=.*~beeApiPublicRoutes="'$beeApiPublicRoutes'"~g' $swarmConfigs/bee.cfg
    fi

    ####
    # BEE PEERS
    if [ -z "$beePeer1" ]; then
        sudo sed -i 's/^beePeer1=.*/beePeer1=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beePeer1=.*~beePeer1="'$beePeer1'"~g' $swarmConfigs/bee.cfg
    fi
    if [ -z "$beePeerAlias1" ]; then
        sudo sed -i 's/^beePeerAlias1=.*/beePeerAlias1=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePeerAlias1=.*/beePeerAlias1="'$beePeerAlias1'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePeer2" ]; then
        sudo sed -i 's/^beePeer2=.*/beePeer2=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beePeer2=.*~beePeer2="'$beePeer2'"~g' $swarmConfigs/bee.cfg
    fi
    if [ -z "$beePeerAlias2" ]; then
        sudo sed -i 's/^beePeerAlias2=.*/beePeerAlias2=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePeerAlias2=.*/beePeerAlias2="'$beePeerAlias2'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePeer3" ]; then
        sudo sed -i 's/^beePeer3=.*/beePeer3=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beePeer3=.*~beePeer3="'$beePeer3'"~g' $swarmConfigs/bee.cfg
    fi
    if [ -z "$beePeerAlias3" ]; then
        sudo sed -i 's/^beePeerAlias3=.*/beePeerAlias3=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePeerAlias3=.*/beePeerAlias3="'$beePeerAlias3'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePeer4" ]; then
        sudo sed -i 's/^beePeer4=.*/beePeer4=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beePeer4=.*~beePeer4="'$beePeer4'"~g' $swarmConfigs/bee.cfg
    fi
    if [ -z "$beePeerAlias4" ]; then
        sudo sed -i 's/^beePeerAlias4=.*/beePeerAlias4=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePeerAlias4=.*/beePeerAlias4="'$beePeerAlias4'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePeer5" ]; then
        sudo sed -i 's/^beePeer5=.*/beePeer5=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beePeer5=.*~beePeer5="'$beePeer5'"~g' $swarmConfigs/bee.cfg
    fi
    if [ -z "$beePeerAlias5" ]; then
        sudo sed -i 's/^beePeerAlias5=.*/beePeerAlias5=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePeerAlias5=.*/beePeerAlias5="'$beePeerAlias5'"/' $swarmConfigs/bee.cfg
    fi
    ####
    if [ -z "$beePeer6" ]; then
        sudo sed -i 's/^beePeer6=.*/beePeer6=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's~^beePeer6=.*~beePeer6="'$beePeer6'"~g' $swarmConfigs/bee.cfg
    fi
    if [ -z "$beePeerAlias6" ]; then
        sudo sed -i 's/^beePeerAlias6=.*/beePeerAlias6=""/' $swarmConfigs/bee.cfg
    else
        sudo sed -i 's/^beePeerAlias6=.*/beePeerAlias6="'$beePeerAlias6'"/' $swarmConfigs/bee.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/shimmer-bee.cfg" ]; then
    source $swarmTmp/shimmer-bee.cfg


    if [ -z "$shimmerBeeRelease" ]; then
        sudo sed -i 's/^shimmerBeeRelease=.*/shimmerBeeRelease="stable"/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeRelease=.*/shimmerBeeRelease="'$shimmerBeeRelease'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeNetwork" ]; then
        sudo sed -i 's/^shimmerBeeNetwork=.*/shimmerBeeNetwork="mainnet"/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeNetwork=.*/shimmerBeeNetwork="'$shimmerBeeNetwork'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeAlias" ]; then
        sudo sed -i 's~^shimmerBeeAlias=.*~shimmerBeeAlias="Bee"~' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i "s~^shimmerBeeAlias=.*~shimmerBeeAlias=\"$shimmerBeeAlias\"~g" $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeGossipPort" ]; then
        sudo sed -i 's/^shimmerBeeGossipPort=.*/shimmerBeeGossipPort=15604/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeGossipPort=.*/shimmerBeeGossipPort='$shimmerBeeGossipPort'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeIdentity" ]; then
        sudo sed -i 's~shimmerBeeIdentity=.*~shimmerBeeIdentity=""~' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeeIdentity=.*~shimmerBeeIdentity="'$shimmerBeeIdentity'"~' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeMaxUnknownPeers" ]; then
        sudo sed -i 's/^shimmerBeeMaxUnknownPeers=.*/shimmerBeeMaxUnknownPeers=0/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeMaxUnknownPeers=.*/shimmerBeeMaxUnknownPeers='$shimmerBeeMaxUnknownPeers'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePasswordHash" ]; then
        sudo sed -i 's/^shimmerBeePasswordHash=.*/shimmerBeePasswordHash="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePasswordHash=.*/shimmerBeePasswordHash="'$shimmerBeePasswordHash'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePasswordSalt" ]; then
        sudo sed -i 's/^shimmerBeePasswordSalt=.*/shimmerBeePasswordSalt="0000000000000000000000000000000000000000000000000000000000000000"/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePasswordSalt=.*/shimmerBeePasswordSalt="'$shimmerBeePasswordSalt'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePowEnabled" ]; then
        sudo sed -i 's/^shimmerBeePowEnabled=.*/shimmerBeePowEnabled=false/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePowEnabled=.*/shimmerBeePowEnabled='$shimmerBeePowEnabled'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePruningDelay" ]; then
        sudo sed -i 's/^shimmerBeePruningDelay=.*/shimmerBeePruningDelay=60480/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePruningDelay=.*/shimmerBeePruningDelay='$shimmerBeePruningDelay'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePruningEnabled" ]; then
        sudo sed -i 's/^shimmerBeePruningEnabled=.*/shimmerBeePruningEnabled=true/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePruningEnabled=.*/shimmerBeePruningEnabled='$shimmerBeePruningEnabled'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeSnapshotInterval" ]; then
        sudo sed -i 's/^shimmerBeeSnapshotInterval=.*/shimmerBeeSnapshotInterval=360/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeSnapshotInterval=.*/shimmerBeeSnapshotInterval='$shimmerBeeSnapshotInterval'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeUsername" ]; then
        sudo sed -i 's/^shimmerBeeUsername=.*/shimmerBeeUsername="admin"/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeUsername=.*/shimmerBeeUsername="'$shimmerBeeUsername'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$beShimmereAutopeeringEnabled" ]; then
        sudo sed -i 's/^shimmerBeeAutopeeringEnabled=.*/shimmerBeeAutopeeringEnabled=false/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeAutopeeringEnabled=.*/shimmerBeeAutopeeringEnabled='$shimmerBeeAutopeeringEnabled'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeAutopeeringPort" ]; then
        sudo sed -i 's/^shimmerBeeAutopeeringPort=.*/shimmerBeeAutopeeringPort=14676/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeAutopeeringPort=.*/shimmerBeeAutopeeringPort='$shimmerBeeAutopeeringPort'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeRunAsEntryNode" ]; then
        sudo sed -i 's/^shimmerBeeRunAsEntryNode=.*/shimmerBeeRunAsEntryNode=false/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeRunAsEntryNode=.*/shimmerBeeRunAsEntryNode='$shimmerBeeRunAsEntryNode'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeMaxDiscoveredPeers" ]; then
        sudo sed -i 's/^shimmerBeeMaxDiscoveredPeers=.*/shimmerBeeMaxDiscoveredPeers=6/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeeMaxDiscoveredPeers=.*/shimmerBeeMaxDiscoveredPeers='$shimmerBeeMaxDiscoveredPeers'/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeeApiPublicRoutes" ]; then
        sudo sed -i 's~^shimmerBeeApiPublicRoutes=.*~shimmerBeeApiPublicRoutes="/health,/api/v2/info,/api/v2/tips,/api/v2/messages,/api/v2/messages/:messageId,/api/v2/messages/:messageId/metadata,/api/v2/messages/:messageId/raw,/api/v2/messages/:messageId/children,/api/v2/outputs/:outputId,/api/v2/addresses/:address,/api/v2/addresses/ed25519/:address,/api/v2/addresses/:address/outputs,/api/v2/addresses/ed25519/:address/outputs,/api/v2/receipts,/api/v2/receipts/:milestoneIndex,/api/v2/treasury,/api/v2/transactions/:transactionId/included-message,/api/v2/milestones/milestoneIndex,/api/v2/milestones/:milestoneIndex/utxo-changes"~g' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeeApiPublicRoutes=.*~shimmerBeeApiPublicRoutes="'$shimmerBeeApiPublicRoutes'"~g' $swarmConfigs/shimmer-bee.cfg
    fi

    ####
    # BEE PEERS
    if [ -z "$shimmerBeePeer1" ]; then
        sudo sed -i 's/^shimmerBeePeer1=.*/shimmerBeePeer1=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeePeer1=.*~shimmerBeePeer1="'$shimmerBeePeer1'"~g' $swarmConfigs/shimmer-bee.cfg
    fi
    if [ -z "$shimmerBeePeerAlias1" ]; then
        sudo sed -i 's/^shimmerBeePeerAlias1=.*/shimmerBeePeerAlias1=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePeerAlias1=.*/shimmerBeePeerAlias1="'$shimmerBeePeerAlias1'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePeer2" ]; then
        sudo sed -i 's/^shimmerBeePeer2=.*/shimmerBeePeer2=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeePeer2=.*~shimmerBeePeer2="'$shimmerBeePeer2'"~g' $swarmConfigs/shimmer-bee.cfg
    fi
    if [ -z "$shimmerBeePeerAlias2" ]; then
        sudo sed -i 's/^shimmerBeePeerAlias2=.*/shimmerBeePeerAlias2=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePeerAlias2=.*/shimmerBeePeerAlias2="'$shimmerBeePeerAlias2'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePeer3" ]; then
        sudo sed -i 's/^shimmerBeePeer3=.*/shimmerBeePeer3=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeePeer3=.*~shimmerBeePeer3="'$shimmerBeePeer3'"~g' $swarmConfigs/shimmer-bee.cfg
    fi
    if [ -z "$shimmerBeePeerAlias3" ]; then
        sudo sed -i 's/^shimmerBeePeerAlias3=.*/shimmerBeePeerAlias3=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePeerAlias3=.*/shimmerBeePeerAlias3="'$shimmerBeePeerAlias3'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePeer4" ]; then
        sudo sed -i 's/^shimmerBeePeer4=.*/shimmerBeePeer4=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeePeer4=.*~shimmerBeePeer4="'$shimmerBeePeer4'"~g' $swarmConfigs/shimmer-bee.cfg
    fi
    if [ -z "$shimmerBeePeerAlias4" ]; then
        sudo sed -i 's/^shimmerBeePeerAlias4=.*/shimmerBeePeerAlias4=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePeerAlias4=.*/shimmerBeePeerAlias4="'$shimmerBeePeerAlias4'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePeer5" ]; then
        sudo sed -i 's/^shimmerBeePeer5=.*/shimmerBeePeer5=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeePeer5=.*~shimmerBeePeer5="'$shimmerBeePeer5'"~g' $swarmConfigs/shimmer-bee.cfg
    fi
    if [ -z "$shimmerBeePeerAlias5" ]; then
        sudo sed -i 's/^shimmerBeePeerAlias5=.*/shimmerBeePeerAlias5=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePeerAlias5=.*/shimmerBeePeerAlias5="'$shimmerBeePeerAlias5'"/' $swarmConfigs/shimmer-bee.cfg
    fi
    ####
    if [ -z "$shimmerBeePeer6" ]; then
        sudo sed -i 's/^shimmerBeePeer6=.*/shimmerBeePeer6=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's~^shimmerBeePeer6=.*~shimmerBeePeer6="'$shimmerBeePeer6'"~g' $swarmConfigs/shimmer-bee.cfg
    fi
    if [ -z "$shimmerBeePeerAlias6" ]; then
        sudo sed -i 's/^shimmerBeePeerAlias6=.*/shimmerBeePeerAlias6=""/' $swarmConfigs/shimmer-bee.cfg
    else
        sudo sed -i 's/^shimmerBeePeerAlias6=.*/shimmerBeePeerAlias6="'$shimmerBeePeerAlias6'"/' $swarmConfigs/shimmer-bee.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/goshimmer.cfg" ]; then
    source $swarmTmp/goshimmer.cfg

    if [ -z "$goshimmerDashboardAuthEnabled" ]; then
        sudo sed -i 's/^goshimmerDashboardAuthEnabled=.*/goshimmerDashboardAuthEnabled=false/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's/^goshimmerDashboardAuthEnabled=.*/goshimmerDashboardAuthEnabled='$goshimmerDashboardAuthEnabled'/' $swarmConfigs/goshimmer.cfg
    fi

    if [ -z "$goshimmerWebapiAuthEnabled" ]; then
        sudo sed -i 's/^goshimmerWebapiAuthEnabled=.*/goshimmerWebapiAuthEnabled=false/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's/^goshimmerWebapiAuthEnabled=.*/goshimmerWebapiAuthEnabled='$goshimmerWebapiAuthEnabled'/' $swarmConfigs/goshimmer.cfg
    fi

    if [ -z "$goshimmerDisablePlugins" ]; then
        sudo sed -i 's/^goshimmerDisablePlugins=.*/goshimmerDisablePlugins="portcheck"/' $swarmConfigs/goshimmer.cfg
    else
        if [[ $goshimmerDisablePlugins != *portcheck* ]]; then
            sudo sed -i 's/^goshimmerDisablePlugins=.*/goshimmerDisablePlugins="portcheck,'$goshimmerDisablePlugins'"/' $swarmConfigs/goshimmer.cfg
        else
            sudo sed -i 's/^goshimmerDisablePlugins=.*/goshimmerDisablePlugins="'$goshimmerDisablePlugins'"/' $swarmConfigs/goshimmer.cfg
        fi
    fi

    if [ -z "$goshimmerEnablePlugins" ]; then
        sudo sed -i 's/^goshimmerEnablePlugins=.*/goshimmerEnablePlugins=""/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's/^goshimmerEnablePlugins=.*/goshimmerEnablePlugins="'$goshimmerEnablePlugins'"/' $swarmConfigs/goshimmer.cfg
    fi

    if [ -z "$goshimmerGossipPort" ]; then
        sudo sed -i 's/^goshimmerGossipPort=.*/goshimmerGossipPort=14666/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's/^goshimmerGossipPort=.*/goshimmerGossipPort='$goshimmerGossipPort'/' $swarmConfigs/goshimmer.cfg
    fi

    if [ -z "$goshimmerAutopeeringPort" ]; then
        sudo sed -i 's/^goshimmerAutopeeringPort=.*/goshimmerAutopeeringPort=14646/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's/^goshimmerAutopeeringPort=.*/goshimmerAutopeeringPort='$goshimmerAutopeeringPort'/' $swarmConfigs/goshimmer.cfg
    fi

    if [ -z "$goshimmerSeed" ]; then
        sudo sed -i 's/^goshimmerSeed=.*/goshimmerSeed=""/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's~^goshimmerSeed=.*~goshimmerSeed="'$goshimmerSeed'"~g' $swarmConfigs/goshimmer.cfg
    fi
    
    if [ -z "$goshimmerRunAsEntryNode" ]; then
        sudo sed -i 's/^goshimmerRunAsEntryNode=.*/goshimmerRunAsEntryNode=false/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's~^goshimmerRunAsEntryNode=.*~goshimmerRunAsEntryNode='$goshimmerRunAsEntryNode'~g' $swarmConfigs/goshimmer.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/wasp.cfg" ]; then
    source $swarmTmp/wasp.cfg

    if [ -z "$waspDashboardAuthUsername" ]; then
        sudo sed -i 's/^waspDashboardAuthUsername=.*/waspDashboardAuthUsername="wasp"/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspDashboardAuthUsername=.*/waspDashboardAuthUsername="'$waspDashboardAuthUsername'"/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspDashboardAuthPassword" ]; then
        sudo sed -i 's/^waspDashboardAuthPassword=.*/waspDashboardAuthPassword="wasp"/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspDashboardAuthPassword=.*/waspDashboardAuthPassword="'$waspDashboardAuthPassword'"/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspWebapiAuthEnabled" ]; then
        sudo sed -i 's/^waspWebapiAuthEnabled=.*/waspWebapiAuthEnabled=false/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspWebapiAuthEnabled=.*/waspWebapiAuthEnabled='$waspWebapiAuthEnabled'/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspDisablePlugins" ]; then
        sudo sed -i 's/^waspDisablePlugins=.*/waspDisablePlugins=""/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspDisablePlugins=.*/waspDisablePlugins="'$waspDisablePlugins'"/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspEnablePlugins" ]; then
        sudo sed -i 's/^waspEnablePlugins=.*/waspEnablePlugins=""/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspEnablePlugins=.*/waspEnablePlugins="'$waspEnablePlugins'"/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspPeeringPort" ]; then
        sudo sed -i 's/^waspPeeringPort=.*/waspPeeringPort=4000/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspPeeringPort=.*/waspPeeringPort='$waspPeeringPort'/' $swarmConfigs/wasp.cfg
    fi

    if [ ! -z "$waspPeeringId" ]; then
        waspNetworkId=$waspPeeringId
    fi
    if [ -z "$waspNetworkId" ]; then
        sudo sed -i 's/^waspNetworkId=.*/waspNetworkId="127.0.0.1"/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspNetworkId=.*/waspNetworkId="'$waspNetworkId'"/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspNanomsgPort" ]; then
        sudo sed -i 's/^waspNanomsgPort=.*/waspNanomsgPort=5550/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspNanomsgPort=.*/waspNanomsgPort='$waspNanomsgPort'/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspNodeconnAddress" ]; then
        sudo sed -i 's/^waspNodeconnAddress=.*/waspNodeconnAddress="127.0.0.1:5000"/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspNodeconnAddress=.*/waspNodeconnAddress="'$waspNodeconnAddress'"/' $swarmConfigs/wasp.cfg
    fi

    if [ -z "$waspWebapiAdminWhitelist" ]; then
        sudo sed -i 's/^waspWebapiAdminWhitelist=.*/waspWebapiAdminWhitelist=""/' $swarmConfigs/wasp.cfg
    else
        sudo sed -i 's/^waspWebapiAdminWhitelist=.*/waspWebapiAdminWhitelist="'$waspWebapiAdminWhitelist'"/' $swarmConfigs/wasp.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/shimmer-inx-indexer.cfg" ]; then
    source $swarmTmp/shimmer-inx-indexer.cfg

    if [ -z "$shimmerInxIndexerRelease" ]; then
        sudo sed -i 's~^shimmerInxIndexerRelease=.*~shimmerInxIndexerRelease="stable"~g' $swarmConfigs/shimmer-inx-indexer.cfg
    else
        sudo sed -i 's~^shimmerInxIndexerRelease=.*~shimmerInxIndexerRelease="'$shimmerInxIndexerRelease'"~g' $swarmConfigs/shimmer-inx-indexer.cfg
    fi

    if [ -z "$shimmerInxIndexerUpdateCheck" ]; then
        sudo sed -i 's~^shimmerInxIndexerUpdateCheck=.*~shimmerInxIndexerUpdateCheck=true~g' $swarmConfigs/shimmer-inx-indexer.cfg
    else
        sudo sed -i 's~^shimmerInxIndexerUpdateCheck=.*~shimmerInxIndexerUpdateCheck="'$shimmerInxIndexerUpdateCheck'"~g' $swarmConfigs/shimmer-inx-indexer.cfg
    fi

    if [ -z "$shimmerInxIndexerEnablePlugins" ]; then
        sudo sed -i 's~^shimmerInxIndexerEnablePlugins=.*~shimmerInxIndexerEnablePlugins=""~g' $swarmConfigs/shimmer-inx-indexer.cfg
    else
        sudo sed -i 's~^shimmerInxIndexerEnablePlugins=.*~shimmerInxIndexerEnablePlugins="'$shimmerInxIndexerEnablePlugins'"~g' $swarmConfigs/shimmer-inx-indexer.cfg
    fi

    if [ -z "$shimmerInxIndexerDisablePlugins" ]; then
        sudo sed -i 's~^shimmerInxIndexerDisablePlugins=.*~shimmerInxIndexerDisablePlugins=""~g' $swarmConfigs/shimmer-inx-indexer.cfg
    else
        sudo sed -i 's~^shimmerInxIndexerDisablePlugins=.*~shimmerInxIndexerDisablePlugins="'$shimmerInxIndexerDisablePlugins'"~g' $swarmConfigs/shimmer-inx-indexer.cfg
    fi

    if [ -z "$shimmerInxIndexerInxAddress" ]; then
        sudo sed -i 's~^shimmerInxIndexerInxAddress=.*~shimmerInxIndexerInxAddress="localhost:9029"~g' $swarmConfigs/shimmer-inx-indexer.cfg
    else
        sudo sed -i 's~^shimmerInxIndexerInxAddress=.*~shimmerInxIndexerInxAddress="'$shimmerInxIndexerInxAddress'"~g' $swarmConfigs/shimmer-inx-indexer.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/shimmer-inx-mqtt.cfg" ]; then
    source $swarmTmp/shimmer-inx-mqtt.cfg

    if [ -z "$shimmerInxMqttRelease" ]; then
        sudo sed -i 's~^shimmerInxMqttRelease=.*~shimmerInxMqttRelease="stable"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttRelease=.*~shimmerInxMqttRelease="'$shimmerInxMqttRelease'"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttUpdateCheck" ]; then
        sudo sed -i 's~^shimmerInxMqttUpdateCheck=.*~shimmerInxMqttUpdateCheck=true~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttUpdateCheck=.*~shimmerInxMqttUpdateCheck="'$shimmerInxMqttUpdateCheck'"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttEnablePlugins" ]; then
        sudo sed -i 's~^shimmerInxMqttEnablePlugins=.*~shimmerInxMqttEnablePlugins=""~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttEnablePlugins=.*~shimmerInxMqttEnablePlugins="'$shimmerInxMqttEnablePlugins'"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttDisablePlugins" ]; then
        sudo sed -i 's~^shimmerInxMqttDisablePlugins=.*~shimmerInxMqttDisablePlugins=""~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttDisablePlugins=.*~shimmerInxMqttDisablePlugins="'$shimmerInxMqttDisablePlugins'"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttInxAddress" ]; then
        sudo sed -i 's~^shimmerInxMqttInxAddress=.*~shimmerInxMqttInxAddress="localhost:9029"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttInxAddress=.*~shimmerInxMqttInxAddress="'$shimmerInxMqttInxAddress'"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttWebsocketEnabled" ]; then
        sudo sed -i 's~^shimmerInxMqttWebsocketEnabled=.*~shimmerInxMqttWebsocketEnabled=true~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttWebsocketEnabled=.*~shimmerInxMqttWebsocketEnabled='$shimmerInxMqttWebsocketEnabled'~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttWebsocketAddress" ]; then
        sudo sed -i 's~^shimmerInxMqttWebsocketAddress=.*~shimmerInxMqttWebsocketAddress="localhost:1888"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttWebsocketAddress=.*~shimmerInxMqttWebsocketAddress="'$shimmerInxMqttWebsocketAddress'"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttTcpEnabled" ]; then
        sudo sed -i 's~^shimmerInxMqttTcpEnabled=.*~shimmerInxMqttTcpEnabled=true~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttTcpEnabled=.*~shimmerInxMqttTcpEnabled='$shimmerInxMqttTcpEnabled'~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi

    if [ -z "$shimmerInxMqttTcpAddress" ]; then
        sudo sed -i 's~^shimmerInxMqttTcpAddress=.*~shimmerInxMqttTcpAddress="localhost:1883"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    else
        sudo sed -i 's~^shimmerInxMqttTcpAddress=.*~shimmerInxMqttTcpAddress="'$shimmerInxMqttTcpAddress'"~g' $swarmConfigs/shimmer-inx-mqtt.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/shimmer-inx-participation.cfg" ]; then
    source $swarmTmp/shimmer-inx-participation.cfg

    if [ -z "$shimmerInxParticipationRelease" ]; then
        sudo sed -i 's~^shimmerInxParticipationRelease=.*~shimmerInxParticipationRelease="stable"~g' $swarmConfigs/shimmer-inx-participation.cfg
    else
        sudo sed -i 's~^shimmerInxParticipationRelease=.*~shimmerInxParticipationRelease="'$shimmerInxParticipationRelease'"~g' $swarmConfigs/shimmer-inx-participation.cfg
    fi

    if [ -z "$shimmerInxParticipationUpdateCheck" ]; then
        sudo sed -i 's~^shimmerInxParticipationUpdateCheck=.*~shimmerInxParticipationUpdateCheck=true~g' $swarmConfigs/shimmer-inx-participation.cfg
    else
        sudo sed -i 's~^shimmerInxParticipationUpdateCheck=.*~shimmerInxParticipationUpdateCheck="'$shimmerInxParticipationUpdateCheck'"~g' $swarmConfigs/shimmer-inx-participation.cfg
    fi

    if [ -z "$shimmerInxParticipationEnablePlugins" ]; then
        sudo sed -i 's~^shimmerInxParticipationEnablePlugins=.*~shimmerInxParticipationEnablePlugins=""~g' $swarmConfigs/shimmer-inx-participation.cfg
    else
        sudo sed -i 's~^shimmerInxParticipationEnablePlugins=.*~shimmerInxParticipationEnablePlugins="'$shimmerInxParticipationEnablePlugins'"~g' $swarmConfigs/shimmer-inx-participation.cfg
    fi

    if [ -z "$shimmerInxParticipationDisablePlugins" ]; then
        sudo sed -i 's~^shimmerInxParticipationDisablePlugins=.*~shimmerInxParticipationDisablePlugins=""~g' $swarmConfigs/shimmer-inx-participation.cfg
    else
        sudo sed -i 's~^shimmerInxParticipationDisablePlugins=.*~shimmerInxParticipationDisablePlugins="'$shimmerInxParticipationDisablePlugins'"~g' $swarmConfigs/shimmer-inx-participation.cfg
    fi

    if [ -z "$shimmerInxParticipationInxAddress" ]; then
        sudo sed -i 's~^shimmerInxParticipationInxAddress=.*~shimmerInxParticipationInxAddress="localhost:9029"~g' $swarmConfigs/shimmer-inx-participation.cfg
    else
        sudo sed -i 's~^shimmerInxParticipationInxAddress=.*~shimmerInxParticipationInxAddress="'$shimmerInxParticipationInxAddress'"~g' $swarmConfigs/shimmer-inx-participation.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/proxy.cfg" ]; then
    source $swarmTmp/proxy.cfg

    if [ -z "$proxySwarmEndpoint" ]; then
        sudo sed -i 's/^proxySwarmEndpoint=.*/proxySwarmEndpoint=false/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxySwarmEndpoint=.*/proxySwarmEndpoint='$proxySwarmEndpoint'/' $swarmConfigs/proxy.cfg
    fi
    if [ ! -z "$proxyAutomaticDeploy" ]; then
        proxyAutomaticDeployment=$proxyAutomaticDeploy
    fi
    if [ -z "$proxyAutomaticDeployment" ]; then
        sudo sed -i 's/^proxyAutomaticDeployment=.*/proxyAutomaticDeployment=true/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyAutomaticDeployment=.*/proxyAutomaticDeployment='$proxyAutomaticDeployment'/' $swarmConfigs/proxy.cfg
    fi
    ####
    if [ ! -z "$proxyHornetDomain" ] && [ ! -z "$proxyHornetPort" ]; then
        proxyIotaHornetUrl="$proxyHornetDomain:$proxyHornetPort"
    fi
    if [ ! -z "$proxyHornetUrl" ]; then
        proxyIotaHornetUrl=$proxyHornetUrl
    fi
    if [ ! -z "$proxyIotaHornetDomain" ] && [ ! -z "$proxyIotaHornetPort" ]; then
        proxyIotaHornetUrl="$proxyIotaHornetDomain:$proxyIotaHornetPort"
    fi
    if [ -z "$proxyIotaHornetUrl" ]; then
        sudo sed -i 's/^proxyIotaHornetUrl=.*/proxyIotaHornetUrl=""/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyIotaHornetUrl=.*/proxyIotaHornetUrl="'$proxyHornetUrl'"/' $swarmConfigs/proxy.cfg
    fi
    ####
    if [ -z "$proxyShimmerHornetUrl" ]; then
        sudo sed -i 's/^proxyShimmerHornetUrl=.*/proxyShimmerHornetUrl=""/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyShimmerHornetUrl=.*/proxyShimmerHornetUrl="'$proxyShimmerHornetUrl'"/' $swarmConfigs/proxy.cfg
    fi
    #####
    if [ ! -z "$proxyBeeDomain" ] && [ ! -z "$proxyBeePort" ]; then
        proxyIotaBeeUrl="$proxyBeeDomain:$proxyBeePort"
    fi
    if [ ! -z "$proxyBeeUrl" ]; then
        proxyIotaBeeUrl=$proxyBeeUrl
    fi
    if [ ! -z "$proxyBeeDomain" ] && [ ! -z "$proxyBeePort" ]; then
        proxyBeeUrl="$proxyBeeDomain:$proxyBeePort"
    fi
    if [ -z "$proxyBeeUrl" ]; then
        sudo sed -i 's/^proxyBeeUrl=.*/proxyBeeUrl=""/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyBeeUrl=.*/proxyBeeUrl="'$proxyBeeUrl'"/' $swarmConfigs/proxy.cfg
    fi
    #####
    if [ ! -z "$proxyShimmerBeeDomain" ] && [ ! -z "$proxyShimmerBeePort" ]; then
        proxyBeeUrl="$proxyShimmerBeeDomain:$proxyShimmerBeePort"
    fi
    if [ -z "$proxyShimmerBeeUrl" ]; then
        sudo sed -i 's/^proxyShimmerBeeUrl=.*/proxyShimmerBeeUrl=""/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyShimmerBeeUrl=.*/proxyShimmerBeeUrl="'$proxyShimmerBeeUrl'"/' $swarmConfigs/proxy.cfg
    fi
    #####
    if [ ! -z "$proxyGoshimmerDomain" ] && [ ! -z "$proxyGoshimmerPort" ]; then
        proxyGoshimmerUrl="$proxyGoshimmerDomain:$proxyGoshimmerPort"
    fi
    if [ -z "$proxyGoshimmerUrl" ]; then
        sudo sed -i 's/^proxyGoshimmerUrl=.*/proxyGoshimmerUrl=""/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyGoshimmerUrl=.*/proxyGoshimmerUrl="'$proxyGoshimmerUrl'"/' $swarmConfigs/proxy.cfg
    fi
    #####
    if [ ! -z "$proxyWaspDashboardDomain" ] && [ ! -z "$proxyWaspDashboardPort" ]; then
        proxyWaspDashboardUrl="$proxyWaspDashboardDomain:$proxyWaspDashboardPort"
    fi
    if [ -z "$proxyWaspDashboardUrl" ]; then
        sudo sed -i 's/^proxyWaspDashboardUrl=.*/proxyWaspDashboardUrl=""/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyWaspDashboardUrl=.*/proxyWaspDashboardUrl="'$proxyWaspDashboardUrl'"/' $swarmConfigs/proxy.cfg
    fi
    #####
    if [ ! -z "$proxyWaspApiDomain" ] && [ ! -z "$proxyWaspApiPort" ]; then
        proxyWaspApiUrl="$proxyWaspApiDomain:$proxyWaspApiPort"
    fi
    if [ -z "$proxyWaspApiUrl" ]; then
        sudo sed -i 's/^proxyWaspApiUrl=.*/proxyWaspApiUrl=""/' $swarmConfigs/proxy.cfg
    else
        sudo sed -i 's/^proxyWaspApiUrl=.*/proxyWaspApiUrl="'$proxyWaspApiUrl'"/' $swarmConfigs/proxy.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/swarm.cfg" ]; then
    source $swarmTmp/swarm.cfg
    
    # Upater for SWARM.cfg
    if [ -z "$osArchitecture" ]; then
        osArchitecture=$(sudo dpkg --print-architecture)
        sudo sed -i 's/^osArchitecture=.*/osArchitecture="'$osArchitecture'"/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^osArchitecture=.*/osArchitecture="'$osArchitecture'"/' $swarmConfigs/swarm.cfg
    fi
    
    if [ -z "$updateNotifier" ]; then
        sudo sed -i 's/^updateNotifier=.*/updateNotifier=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^updateNotifier=.*/updateNotifier='$updateNotifier'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$swarmTheme" ]; then
        sudo sed -i 's/^swarmTheme=.*/swarmTheme="default"/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^swarmTheme=.*/swarmTheme="'$swarmTheme'"/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$swarmCLEditor" ]; then
        sudo sed -i 's/^swarmCLEditor=.*/swarmCLEditor="nano"/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^swarmCLEditor=.*/swarmCLEditor="'$swarmCLEditor'"/' $swarmConfigs/swarm.cfg
    fi

    if [ ! -z "$swarmUpdateAuthUser" ]; then
        swarmAuthUser="$swarmUpdateAuthUser"
    fi
    if [ -z "$swarmAuthUser" ]; then
        sudo sed -i 's~^swarmAuthUser=.*~swarmAuthUser=""~g' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's~^swarmAuthUser=.*~swarmAuthUser="'$swarmAuthUser'"~g' $swarmConfigs/swarm.cfg
    fi

    if [ ! -z "$swarmUpdateAuthPwd" ]; then
        swarmAuthPwd="$swarmUpdateAuthPwd"
    fi
    if [ -z "$swarmAuthPwd" ]; then
        sudo sed -i 's~^swarmAuthPwd=.*~swarmAuthPwd=""~g' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's~^swarmAuthPwd=.*~swarmAuthPwd="'$swarmAuthPwd'"~g' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$swarmAutoUpdate" ]; then
        sudo sed -i 's/^swarmAutoUpdate=.*/swarmAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^swarmAutoUpdate=.*/swarmAutoUpdate='$swarmAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$iotaHornetAutoUpdate" ]; then
        sudo sed -i 's/^iotaHornetAutoUpdate=.*/iotaHornetAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^iotaHornetAutoUpdate=.*/iotaHornetAutoUpdate='$iotaHornetAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerHornetAutoUpdate" ]; then
        sudo sed -i 's/^shimmerHornetAutoUpdate=.*/shimmerHornetAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerHornetAutoUpdate=.*/shimmerHornetAutoUpdate='$shimmerHornetAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$beeAutoUpdate" ]; then
        sudo sed -i 's/^beeAutoUpdate=.*/beeAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^beeAutoUpdate=.*/beeAutoUpdate='$beeAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerBeeAutoUpdate" ]; then
        sudo sed -i 's/^shimmerBeeAutoUpdate=.*/shimmerBeeAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerBeeAutoUpdate=.*/shimmerBeeAutoUpdate='$shimmerBeeAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$goshimmerAutoUpdate" ]; then
        sudo sed -i 's/^goshimmerAutoUpdate=.*/goshimmerAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^goshimmerAutoUpdate=.*/goshimmerAutoUpdate='$goshimmerAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$waspAutoUpdate" ]; then
        sudo sed -i 's/^waspAutoUpdate=.*/waspAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^waspAutoUpdate=.*/waspAutoUpdate='$waspAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxIndexerAutoUpdate" ]; then
        sudo sed -i 's/^shimmerInxIndexerAutoUpdate=.*/shimmerInxIndexerAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxIndexerAutoUpdate=.*/shimmerInxIndexerAutoUpdate='$shimmerInxIndexerAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxMqttAutoUpdate" ]; then
        sudo sed -i 's/^shimmerInxMqttAutoUpdate=.*/shimmerInxMqttAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxMqttAutoUpdate=.*/shimmerInxMqttAutoUpdate='$shimmerInxMqttAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxParticipationAutoUpdate" ]; then
        sudo sed -i 's/^shimmerInxParticipationAutoUpdate=.*/shimmerInxParticipationAutoUpdate=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxParticipationAutoUpdate=.*/shimmerInxParticipationAutoUpdate='$shimmerInxParticipationAutoUpdate'/' $swarmConfigs/swarm.cfg
    fi
    ####
    if [ -z "$iotaHornetAllowDbReset" ]; then
        sudo sed -i 's/^iotaHornetAllowDbReset=.*/iotaHornetAllowDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^iotaHornetAllowDbReset=.*/iotaHornetAllowDbReset='$iotaHornetAllowDbReset'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerHornetAllowDbReset" ]; then
        sudo sed -i 's/^shimmerHornetAllowDbReset=.*/shimmerHornetAllowDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerHornetAllowDbReset=.*/shimmerHornetAllowDbReset='$shimmerHornetAllowDbReset'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$beeAllowDbReset" ]; then
        sudo sed -i 's/^beeAllowDbReset=.*/beeAllowDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^beeAllowDbReset=.*/beeAllowDbReset='$beeAllowDbReset'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerBeeAllowDbReset" ]; then
        sudo sed -i 's/^shimmerBeeAllowDbReset=.*/shimmerBeeAllowDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerBeeAllowDbReset=.*/shimmerBeeAllowDbReset='$shimmerBeeAllowDbReset'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$goshimmerDbReset" ]; then
        sudo sed -i 's/^goshimmerDbReset=.*/goshimmerDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^goshimmerDbReset=.*/goshimmerDbReset='$goshimmerDbReset'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$waspAllowDbReset" ]; then
        sudo sed -i 's/^waspAllowDbReset=.*/waspAllowDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^waspAllowDbReset=.*/waspAllowDbReset='$waspAllowDbReset'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxIndexerAllowDbReset" ]; then
        sudo sed -i 's/^shimmerInxIndexerAllowDbReset=.*/shimmerInxIndexerAllowDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxIndexerAllowDbReset=.*/shimmerInxIndexerAllowDbReset='$shimmerInxIndexerAllowDbReset'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxParticipationAllowDbReset" ]; then
        sudo sed -i 's/^shimmerInxParticipationAllowDbReset=.*/shimmerInxParticipationAllowDbReset=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxParticipationAllowDbReset=.*/shimmerInxParticipationAllowDbReset='$shimmerInxParticipationAllowDbReset'/' $swarmConfigs/swarm.cfg
    fi
    ####
    if [ -z "$swarmLogRotation" ]; then
        sudo sed -i 's/^swarmLogRotation=.*/swarmLogRotation=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^swarmLogRotation=.*/swarmLogRotation='$swarmLogRotation'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$swarmLogSize" ]; then
        sudo sed -i 's/^swarmLogSize=.*/swarmLogSize=10/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^swarmLogSize=.*/swarmLogSize='$swarmLogSize'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$telegramNotifications" ]; then
        sudo sed -i 's/^telegramNotifications=.*/telegramNotifications=false/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^telegramNotifications=.*/telegramNotifications='$telegramNotifications'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$telegramBotToken" ]; then
        sudo sed -i 's/^telegramBotToken=.*/telegramBotToken=""/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^telegramBotToken=.*/telegramBotToken="'$telegramBotToken'"/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$telegramChannelId" ]; then
        sudo sed -i 's/^telegramChannelId=.*/telegramChannelId=""/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^telegramChannelId=.*/telegramChannelId="'$telegramChannelId'"/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$goshimmerDbBackupDownload" ]; then
        sudo sed -i 's/^goshimmerDbBackupDownload=.*/goshimmerDbBackupDownload=false/' $swarmConfigs/goshimmer.cfg
    else
        sudo sed -i 's~^goshimmerDbBackupDownload=.*~goshimmerDbBackupDownload='$goshimmerDbBackupDownload'~g' $swarmConfigs/goshimmer.cfg
    fi
    
    if [ -z "$iotaHornetServiceStatusCheck" ]; then
        sudo sed -i 's/^iotaHornetServiceStatusCheck=.*/iotaHornetServiceStatusCheck=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^iotaHornetServiceStatusCheck=.*/iotaHornetServiceStatusCheck='$iotaHornetServiceStatusCheck'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerHornetServiceStatusCheck" ]; then
        sudo sed -i 's/^shimmerHornetServiceStatusCheck=.*/shimmerHornetServiceStatusCheck=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerHornetServiceStatusCheck=.*/shimmerHornetServiceStatusCheck='$shimmerHornetServiceStatusCheck'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$beeServiceStatusCheck" ]; then
        sudo sed -i 's/^beeServiceStatusCheck=.*/beeServiceStatusCheck=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^beeServiceStatusCheck=.*/beeServiceStatusCheck='$beeServiceStatusCheck'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerBeeServiceStatusCheck" ]; then
        sudo sed -i 's/^shimmerBeeServiceStatusCheck=.*/shimmerBeeServiceStatusCheck=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerBeeServiceStatusCheck=.*/shimmerBeeServiceStatusCheck='$shimmerBeeServiceStatusCheck'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxIndexerServiceStatusCheck" ]; then
        sudo sed -i 's/^shimmerInxIndexerServiceStatusCheck=.*/shimmerInxIndexerServiceStatusCheck=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxIndexerServiceStatusCheck=.*/shimmerInxIndexerServiceStatusCheck='$shimmerInxIndexerServiceStatusCheck'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxMqttServiceStatusCheck" ]; then
        sudo sed -i 's/^shimmerInxMqttServiceStatusCheck=.*/shimmerInxMqttServiceStatusCheck=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxMqttServiceStatusCheck=.*/shimmerInxMqttServiceStatusCheck='$shimmerInxMqttServiceStatusCheck'/' $swarmConfigs/swarm.cfg
    fi

    if [ -z "$shimmerInxParticipationServiceStatusCheck" ]; then
        sudo sed -i 's/^shimmerInxParticipationServiceStatusCheck=.*/shimmerInxParticipationServiceStatusCheck=true/' $swarmConfigs/swarm.cfg
    else
        sudo sed -i 's/^shimmerInxParticipationServiceStatusCheck=.*/shimmerInxParticipationServiceStatusCheck='$shimmerInxParticipationServiceStatusCheck'/' $swarmConfigs/swarm.cfg
    fi
fi

####################################################################################################################################

if [ -f "$swarmTmp/watchdog.cfg" ]; then
    source $swarmTmp/watchdog.cfg

    # Updater for watchdog.log
    sudo sed -i 's/^iotaHornetStatusCounter=.*/iotaHornetStatusCounter='$iotaHornetStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^shimmerHornetStatusCounter=.*/shimmerHornetStatusCounter='$shimmerHornetStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^shimmerHornetSyncCounter=.*/shimmerHornetSyncCounter='$shimmerHornetSyncCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^beeStatusCounter=.*/beeStatusCounter='$beeStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^shimmerBeeStatusCounter=.*/shimmerBeeStatusCounter='$shimmerBeeStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^shimmerBeeSyncCounter=.*/shimmerBeeSyncCounter='$shimmerBeeSyncCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^goshimmerStatusCounter=.*/goshimmerStatusCounter='$goshimmerStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^goshimmerSyncCounter=.*/goshimmerSyncCounter='$goshimmerSyncCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^waspStatusCounter=.*/waspStatusCounter='$waspStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^shimmerInxIndexerStatusCounter=.*/shimmerInxIndexerStatusCounter='$shimmerInxIndexerStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^shimmerInxMqttStatusCounter=.*/shimmerInxMqttStatusCounter='$shimmerInxMqttStatusCounter'/' $swarmConfigs/watchdog.cfg
    sudo sed -i 's/^shimmerInxParticipationStatusCounter=.*/shimmerInxParticipationStatusCounter='$shimmerInxParticipationStatusCounter'/' $swarmConfigs/watchdog.cfg
fi

####################################################################################################################################

if [ -f "$swarmTmp/githubVersion" ] || [ -f "$swarmTmp/latest-versions.cfg" ]; then
    if [ -f "$swarmTmp/githubVersion" ]; then
        source $swarmTmp/githubVersion
    else
        source $swarmTmp/latest-versions.cfg
    fi

    # Updater for latest-versions.cfg
    sudo sed -i 's~^latestSwarmVersion=.*~latestSwarmVersion="'$latestSwarmVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestIotaHornetVersion=.*~latestIotaHornetVersion="'$latestIotaHornetVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestShimmerHornetVersion=.*~latestShimmerHornetVersion="'$latestShimmerHornetVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestBeeVersion=.*~latestBeeVersion="'$latestBeeVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestShimmerBeeVersion=.*~latestShimmerBeeVersion="'$latestShimmerBeeVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestGoshimmerVersion=.*~latestGoshimmerVersion="'$latestGoshimmerVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestWaspVersion=.*~latestWaspVersion="'$latestWaspVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestShimmerInxIndexerVersion=.*~latestShimmerInxIndexerVersion="'$latestShimmerInxIndexerVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestShimmerInxMqttVersion=.*~latestShimmerInxMqttVersion="'$latestShimmerInxMqttVersion'"~' $swarmConfigs/latest-versions.cfg
    sudo sed -i 's~^latestShimmerInxParticipationVersion=.*~latestShimmerInxParticipationVersion="'$latestShimmerInxParticipationVersion'"~' $swarmConfigs/latest-versions.cfg
fi

####################################################################################################################################
