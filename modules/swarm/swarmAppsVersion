#!/bin/bash

if [ -d "$dockerPath/proxy" ]; then
    proxyVersion=(cd $swarmDockerPath ; docker compose run proxy version | head -n 1 | awk '{ print $2 }' | tr -d 'v')
fi

# IOTA
if [ -d "$dockerPath/iota-node" ]; then
    iotaNodeVersion=(cd $swarmDockerPath ; docker compose run iota-node -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/iota-indexer" ]; then
    iotaIndexerVersion=(cd $swarmDockerPath ; docker compose run iota-indexer -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/iota-mqtt" ]; then
    iotaMqttVersion=(cd $swarmDockerPath ; docker compose run iota-mqtt -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/iota-participation" ]; then
    iotaParticipationVersion=(cd $swarmDockerPath ; docker compose run iota-participation -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/iota-poi" ]; then
    iotaPoiVersion=(cd $swarmDockerPath ; docker compose run iota-poi -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/iota-irc-metadata" ]; then
    iotaIrcMetadataVersion=(cd $swarmDockerPath ; docker compose run iota-irc-metadata -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/iota-dashboard" ]; then
    iotaDashboardVersion=(cd $swarmDockerPath ; docker compose run iota-dashboard -v | awk '{print $2}' | tr -d 'v')
fi

# SHIMMER
if [ -d "$dockerPath/shimmer-node" ]; then
    shimmerNodeVersion=(cd $swarmDockerPath ; docker compose run shimmer-node -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/shimmer-indexer" ]; then
    shimmerIndexerVersion=(cd $swarmDockerPath ; docker compose run shimmer-indexer -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/shimmer-mqtt" ]; then
    shimmerMqttVersion=(cd $swarmDockerPath ; docker compose run shimmer-mqtt -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/shimmer-participation" ]; then
    shimmerParticipationVersion=(cd $swarmDockerPath ; docker compose run shimmer-participation -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/shimmer-poi" ]; then
    shimmerPoiVersion=(cd $swarmDockerPath ; docker compose run shimmer-poi -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/shimmer-irc-metadata" ]; then
    shimmerIrcMetadataVersion=(cd $swarmDockerPath ; docker compose run shimmer-irc-metadata -v | awk '{print $2}' | tr -d 'v')
fi
if [ -d "$dockerPath/shimmer-dashboard" ]; then
    shimmerDashboardVersion=(cd $swarmDockerPath ; docker compose run shimmer-dashboard -v | awk '{print $2}' | tr -d 'v')
fi