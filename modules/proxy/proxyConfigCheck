#!/bin/bash

if [ -z $TRAEFIK_ACME_EMAIL ] && [ "$TRAEFIK_PROTOCOL" = "https" ]; then
    sed -i 's/^TRAEFIK_PROTOCOL=.*/TRAEFIK_PROTOCOL="http"/' $swarmConfigsPath/docker-env.cfg
fi

if [ ! -d $iotaNodePath ]; then
    sed -i 's/^IOTA_NODE_ADDRESS=.*/IOTA_NODE_ADDRESS=""/' $swarmConfigsPath/docker-env.cfg
    sed -i 's/^IOTA_DASHBOARD_ADDRESS=.*/IOTA_DASHBOARD_ADDRESS=""/' $swarmConfigsPath/docker-env.cfg
fi

if [ ! -d $iotaInxDashboardPath ]; then
    sed -i 's/^IOTA_DASHBOARD_ADDRESS=.*/IOTA_DASHBOARD_ADDRESS=""/' $swarmConfigsPath/docker-env.cfg
fi

if [ ! -d $shimmerNodePath ]; then
    sed -i 's/^SHIMMER_NODE_ADDRESS=.*/SHIMMER_NODE_ADDRESS=""/' $swarmConfigsPath/docker-env.cfg
    sed -i 's/^SHIMMER_DASHBOARD_ADDRESS=.*/SHIMMER_NODE_ADDRESS=""/' $swarmConfigsPath/docker-env.cfg
fi

if [ ! -d $shimmerInxDashboardPath ]; then
    sed -i 's/^SHIMMER_DASHBOARD_ADDRESS=.*/SHIMMER_DASHBOARD_ADDRESS=""/' $swarmConfigsPath/docker-env.cfg
fi
